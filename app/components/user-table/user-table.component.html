<div class="table-responsive">
  <table class="users-table">
    <thead>
      <tr>
        <th class="col-id">ID</th>
        <th class="col-name">Nome</th>
        <th class="col-email">Email</th>
        <th class="col-role">Cargo</th>
        <th class="col-status">Status</th>
        <th class="col-actions actions-header">Ações</th>
      </tr>
    </thead>

    <tbody>
      <!-- Estado de carregamento -->
      <tr ng-if="$ctrl.loading">
        <td colspan="6" class="loading-cell">
          <span class="loading-spinner"></span>
          Carregando usuários...
        </td>
      </tr>

      <!-- Estado vazio -->
      <tr ng-if="!$ctrl.loading && $ctrl.users.length === 0">
        <td colspan="6" class="empty-cell">
          <i class="material-icons">people_outline</i>
          Nenhum usuário encontrado
        </td>
      </tr>

      <!-- Lista de usuários -->
      <tr ng-repeat="user in $ctrl.users track by user.id">
        <td class="user-id">
          <span class="id-badge">#{{ user.id }}</span>
        </td>

        <td class="user-name">
          <div class="user-avatar">
            <div class="avatar">
              {{ $ctrl.getInitials(user.name) }}
            </div>
            <div class="user-info">
              <strong>{{ user.name }}</strong>
              <small ng-if="user.createdAt">
                Desde {{ $ctrl.formatDate(user.createdAt) }}
              </small>
            </div>
          </div>
        </td>

        <td class="user-email">
          <i class="material-icons email-icon">email</i>
          <span class="email-text">{{ user.email }}</span>
        </td>

        <td class="user-role">
          {{
            user.role === "admin"
              ? "Administrador"
              : user.role === "manager"
              ? "Gerente"
              : "Usuário"
          }}
        </td>

        <td class="user-status">
          <span class="status-badge" ng-class="user.status">
            {{ user.status === "active" ? "Ativo" : "Inativo" }}
          </span>
        </td>

        <td class="user-actions">
          <button
            class="btn-action view"
            ng-click="$ctrl.onView({ user: user })"
          >
            <i class="material-icons">visibility</i>
          </button>

          <button
            class="btn-action edit"
            ng-click="$ctrl.onEdit({ user: user })"
          >
            <i class="material-icons">edit</i>
          </button>

          <button
            class="btn-action delete"
            ng-click="$ctrl.onDelete({ user: user })"
          >
            <i class="material-icons">delete</i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
